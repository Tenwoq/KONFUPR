
# Конфигурационное управление домашнее задание номер 1  
### Саргсян Тигран Вруйревич ИКБО-62-23 

# Эмулятор shell для UNIX-подобной ОС

## Общее описание

Этот проект представляет собой эмулятор командной оболочки (shell) для UNIX-подобной операционной системы. Эмулятор поддерживает выполнение основных команд оболочки и работает с виртуальной файловой системой, предоставляемой в формате `.zip`. Проект реализован в режиме командной строки (CLI). В качестве лог-файла используется формат JSON для хранения всех выполненных команд в течение сессии работы.

## Описание функций

1. **Чтение конфигурации**  
   Конфигурационный файл в формате `XML` содержит информацию о названии компьютера, пути к виртуальной файловой системе (архив в формате `.zip`) и пути к лог-файлу. Функция читает и обрабатывает данные для дальнейшей работы эмулятора.

2. **Работа с виртуальной файловой системой**  
   Основные команды для взаимодействия с файловой системой:
   - `ls` — вывод содержимого текущего каталога.
   - `cd <путь>` — смена текущего каталога.
   - `exit` — выход из эмулятора.

3. **Дополнительные команды**  
   - `history` — вывод списка последних выполненных команд.
   - `who` — отображение списка пользователей, вошедших в систему.

4. **Логирование действий**  
   Все действия пользователя в эмуляторе записываются в JSON-файл с указанием времени выполнения команды.

## Описание команд для сборки проекта

1. Установите все зависимости, если они необходимы:
   ```bash
   pip install -r requirements.txt
   ```

2. Подготовьте виртуальную файловую систему:
   ```bash
   mkdir ~/vfs
   cd ~/vfs
   mkdir Documents
   mkdir Pictures
   echo "This is a test file." > Documents/test.txt
   echo "Hello, World!" > hello.txt
   echo "Sample Image Content" > Pictures/image.jpg
   ```

3. Создайте архив виртуальной файловой системы:
   ```bash
   zip -r virtual_fs.zip ~/vfs
   ```

4. Проверьте содержимое архива:
   ```bash
   unzip -l ./virtual_fs.zip
   ```

## Примеры использования

### Запуск эмулятора:
```bash
python3 emulator.py config.xml
```

### Пример выполнения команды `ls`:
```bash
> ls
Documents Pictures hello.txt
```

### Пример команды `cd`:
```bash
> cd Documents
> ls
test.txt
```

### Пример команды `history`:
```bash
> history
1. ls
2. cd Documents
3. ls
```

### Пример команды `who`:
```bash
> who
user1  tty7         2024-09-23 10:00
user2  tty8         2024-09-23 10:15
```

## Покрытие тестами

Все функции эмулятора должны быть покрыты тестами, а для каждой из поддерживаемых команд необходимо написать 3 теста.

## Результаты прогона тестов

Эмулятор покрыт тестами для всех поддерживаемых команд. Для каждой команды написано по 3 теста, которые проверяют корректность выполнения. Примеры команд для запуска тестов:
```bash
pytest tests/test_ls.py
pytest tests/test_cd.py
pytest tests/test_history.py
pytest tests/test_who.py
```
